
#include<stdio.h>
#include<string.h>
struct student{
  char name[20];
  float h;
  int w;
}arr[3];
void exchange(int i,int j)
{//printf("\n%i%i\n",i,j);
  struct student temp=arr[i];
  arr[i]=arr[j];
  arr[j]=temp;
}
void quick(int lb,int ub)
{//printf("enter");
  if(lb<ub)
  { int i = lb;
    int j = ub;
    struct student p=arr[lb];
    //printf("%i%i",i,j);
   do
    {//printf("i<j");
     int t=strcmp(p.name,arr[i].name);
      //printf("t=%i\n",t);
      
      while(t<0)
      {
      j--;
      //printf("t=%i\n",t);
      }
      do
      {i++;
      //printf("t=%i\n",t);
      t=strcmp(p.name,arr[i].name);

      } while(t>0&&i<3);
      //j--;
      //printf("%i%i",i,j);
     if(i<j)
     exchange(i,j);
    } while(i<j);
     exchange(lb,j);
      quick(lb,j-1);
      quick(j+1,ub);
      }
}
int main()
{FILE *ip;
 struct student o;
ip=fopen("input.txt","r");
int i=0;
printf(" input file\n");
 while(fread(&o, sizeof(struct student), 1, ip)) 
        {
          printf("%s %.1f %i\n",o.name,o.h,o.w);
          arr[i]=o;
          i++;
        
        }
fclose(ip);
quick(0,2);
ip=fopen("output.txt","w");
for(int i=0;i<3;i++)
{fwrite(&arr[i],sizeof(struct student),1,ip);

   //printf("%s %.1f %i\n",arr[i].name,arr[i].h,arr[i].w);
}
fclose(ip);
ip=fopen("output.txt","r");
printf("\n output file\n");
 while(fread(&o, sizeof(struct student), 1, ip)) 
        {
          printf("%s %.1f %i\n",o.name,o.h,o.w);
          
        
        }
fclose(ip);


}

